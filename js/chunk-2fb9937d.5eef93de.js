(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2fb9937d"],{"00b4":function(e,t,c){"use strict";c("ac1f");var o=c("23e7"),n=c("da84"),r=c("c65b"),a=c("e330"),l=c("1626"),i=c("861d"),d=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),s=n.Error,u=a(/./.test);o({target:"RegExp",proto:!0,forced:!d},{test:function(e){var t=this.exec;if(!l(t))return u(this,e);var c=r(t,this,e);if(null!==c&&!i(c))throw new s("RegExp exec method returned something other than an Object or null");return!!c}})},2909:function(e,t,c){"use strict";function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var c=0,o=new Array(t);c<t;c++)o[c]=e[c];return o}function n(e){if(Array.isArray(e))return o(e)}c.d(t,"a",(function(){return i}));c("a4d3"),c("e01a"),c("d3b7"),c("d28b"),c("3ca3"),c("ddb0"),c("a630");function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}c("fb6a"),c("b0c0"),c("ac1f"),c("00b4");function a(e,t){if(e){if("string"===typeof e)return o(e,t);var c=Object.prototype.toString.call(e).slice(8,-1);return"Object"===c&&e.constructor&&(c=e.constructor.name),"Map"===c||"Set"===c?Array.from(e):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?o(e,t):void 0}}c("d9e2");function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e){return n(e)||r(e)||a(e)||l()}},"4df4":function(e,t,c){"use strict";var o=c("da84"),n=c("0366"),r=c("c65b"),a=c("7b0b"),l=c("9bdd"),i=c("e95a"),d=c("68ee"),s=c("07fa"),u=c("8418"),m=c("9a1f"),p=c("35a1"),b=o.Array;e.exports=function(e){var t=a(e),c=d(this),o=arguments.length,f=o>1?arguments[1]:void 0,g=void 0!==f;g&&(f=n(f,o>2?arguments[2]:void 0));var h,j,O,v,E,V,N=p(t),y=0;if(!N||this==b&&i(N))for(h=s(t),j=c?new this(h):b(h);h>y;y++)V=g?f(t[y],y):t[y],u(j,y,V);else for(v=m(t,N),E=v.next,j=c?new this:[];!(O=r(E,v)).done;y++)V=g?l(v,f,[O.value,y],!0):O.value,u(j,y,V);return j.length=y,j}},7156:function(e,t,c){var o=c("1626"),n=c("861d"),r=c("d2bb");e.exports=function(e,t,c){var a,l;return r&&o(a=t.constructor)&&a!==c&&n(l=a.prototype)&&l!==c.prototype&&r(e,l),e}},"9bdd":function(e,t,c){var o=c("825a"),n=c("2a62");e.exports=function(e,t,c,r){try{return r?t(o(c)[0],c[1]):t(c)}catch(a){n(e,"throw",a)}}},a630:function(e,t,c){var o=c("23e7"),n=c("4df4"),r=c("1c7e"),a=!r((function(e){Array.from(e)}));o({target:"Array",stat:!0,forced:a},{from:n})},ab36:function(e,t,c){var o=c("861d"),n=c("9112");e.exports=function(e,t){o(t)&&"cause"in t&&n(e,"cause",t.cause)}},b0c0:function(e,t,c){var o=c("83ab"),n=c("5e77").EXISTS,r=c("e330"),a=c("9bf2").f,l=Function.prototype,i=r(l.toString),d=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,s=r(d.exec),u="name";o&&!n&&a(l,u,{configurable:!0,get:function(){try{return s(d,i(this))[1]}catch(e){return""}}})},b980:function(e,t,c){var o=c("d039"),n=c("5c6c");e.exports=!o((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",n(1,7)),7!==e.stack)}))},c770:function(e,t,c){var o=c("e330"),n=o("".replace),r=function(e){return String(Error(e).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,l=a.test(r);e.exports=function(e,t){if(l&&"string"==typeof e)while(t--)e=n(e,a,"");return e}},d28b:function(e,t,c){var o=c("746f");o("iterator")},d416:function(e,t,c){"use strict";c.r(t);var o=c("7a23"),n={class:"px-6 py-3"},r={class:"d-flex justify-content-end align-items-center my-4"},a=Object(o["createElementVNode"])("span",{class:"material-icons-outlined me-2"},"add_circle_outline",-1),l=Object(o["createElementVNode"])("span",null,"新增產品",-1),i=[a,l],d={class:"table table-borderless mb-4"},s=Object(o["createElementVNode"])("thead",{class:"border-bottom border-primary text-light"},[Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("th",{scope:"col",width:"150"},"分類"),Object(o["createElementVNode"])("th",{scope:"col"},"商品名稱"),Object(o["createElementVNode"])("th",{scope:"col"},"原價"),Object(o["createElementVNode"])("th",{scope:"col"},"售價"),Object(o["createElementVNode"])("th",{scope:"col",width:"180"},"是否推薦"),Object(o["createElementVNode"])("th",{scope:"col",width:"180"},"啟用狀態"),Object(o["createElementVNode"])("th",{scope:"col",width:"150"},"編輯 / 刪除")])],-1),u={class:"form-check form-switch p-0"},m=["onUpdate:modelValue","onChange"],p={class:"form-check form-switch p-0"},b=["onUpdate:modelValue","onChange"],f={class:"btn-group-sm"},g=["onClick"],h=["disabled","onClick"];function j(e,t,c,a,l,j){var O=Object(o["resolveComponent"])("Loading"),v=Object(o["resolveComponent"])("AdminProductModal"),E=Object(o["resolveComponent"])("AdminDelModal"),V=Object(o["resolveComponent"])("Pagination");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(O,{active:l.isLoading,"onUpdate:active":t[0]||(t[0]=function(e){return l.isLoading=e})},null,8,["active"]),Object(o["createElementVNode"])("div",n,[Object(o["createElementVNode"])("div",r,[Object(o["createElementVNode"])("button",{type:"button",class:"btn btn-primary d-flex align-items-center px-3 py-2",onClick:t[1]||(t[1]=function(e){return j.openModal("new")})},i)]),Object(o["createElementVNode"])("table",d,[s,Object(o["createElementVNode"])("tbody",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(l.products,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",{class:"border-bottom",key:e.id},[Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(e.category),1),Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(e.title),1),Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(e.origin_price),1),Object(o["createElementVNode"])("td",null,Object(o["toDisplayString"])(e.price),1),Object(o["createElementVNode"])("td",null,[Object(o["createElementVNode"])("div",u,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{class:"form-check-input ms-0 me-3",type:"checkbox",role:"switch",id:"product.id","onUpdate:modelValue":function(t){return e.is_recommend=t},"true-value":1,"false-value":0,onChange:function(t){return j.updateProduct(e)}},null,40,m),[[o["vModelCheckbox"],e.is_recommend]]),Object(o["createElementVNode"])("label",{class:Object(o["normalizeClass"])(["form-check-label",{"text-success":e.is_recommend,"text-danger":!e.is_recommend}]),for:"product.id"},Object(o["toDisplayString"])(e.is_recommend?"推推":"尚未"),3)])]),Object(o["createElementVNode"])("td",null,[Object(o["createElementVNode"])("div",p,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{class:"form-check-input ms-0 me-3",type:"checkbox",role:"switch",id:"product.id","onUpdate:modelValue":function(t){return e.is_enabled=t},"true-value":1,"false-value":0,onChange:function(t){return j.updateProduct(e)}},null,40,b),[[o["vModelCheckbox"],e.is_enabled]]),Object(o["createElementVNode"])("label",{class:Object(o["normalizeClass"])(["form-check-label",{"text-success":e.is_enabled,"text-danger":!e.is_enabled}]),for:"product.id"},Object(o["toDisplayString"])(e.is_enabled?"上架":"下架"),3)])]),Object(o["createElementVNode"])("td",null,[Object(o["createElementVNode"])("div",f,[Object(o["createElementVNode"])("button",{type:"button",class:"btn btn-outline-primary me-2",onClick:function(t){return j.openModal("edit",e)}},"編輯",8,g),Object(o["createElementVNode"])("button",{type:"button",class:"btn btn-outline-danger",disabled:e.is_enabled,onClick:function(t){return j.openModal("productDelete",e)}},"刪除",8,h)])])])})),128))])]),Object(o["createVNode"])(v,{ref:"productModal","temp-product":l.tempProduct,is_new:l.isNew,onGetProducts:j.getProducts},null,8,["temp-product","is_new","onGetProducts"]),Object(o["createVNode"])(E,{ref:"delModal","del-modal-status":l.delModalStatus,"temp-product":l.tempProduct,onGetProducts:j.getProducts},null,8,["del-modal-status","temp-product","onGetProducts"]),Object(o["createVNode"])(V,{pages:l.pagination,onEmitPages:j.getProducts},null,8,["pages","onEmitPages"])])],64)}var O=c("5530"),v=(c("99af"),c("1799")),E=(c("a4d3"),c("e01a"),{class:"modal fade",ref:"modal",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true"}),V={class:"modal-dialog modal-lg"},N={class:"modal-content"},y={class:"modal-header bg-primary"},x={class:"modal-title text-white"},P=Object(o["createElementVNode"])("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),k={class:"modal-body"},w={class:"mb-3"},I={class:"nav nav-tabs",id:"nav-tab",role:"tablist"},M={class:"tab-content px-2",id:"nav-tabContent"},C={class:"tab-pane fade show active","data-info":"productInfo"},U={class:"row g-3"},_={class:"col-12"},S=Object(o["createElementVNode"])("label",{for:"title",class:"form-label"},[Object(o["createElementVNode"])("span",{class:"text-danger me-1"},"*"),Object(o["createTextVNode"])("商品名稱")],-1),T={class:"col-4"},D=Object(o["createElementVNode"])("label",{for:"category",class:"form-label"},[Object(o["createElementVNode"])("span",{class:"text-danger me-1"},"*"),Object(o["createTextVNode"])("分類")],-1),B={class:"col-4"},A=Object(o["createElementVNode"])("label",{for:"grams",class:"form-label"},[Object(o["createElementVNode"])("span",{class:"text-danger me-1"},"*"),Object(o["createTextVNode"])("內容量")],-1),$={class:"col-4"},L=Object(o["createElementVNode"])("label",{for:"unit",class:"form-label"},[Object(o["createElementVNode"])("span",{class:"text-danger me-1"},"*"),Object(o["createTextVNode"])("單位")],-1),F={class:"col-6"},z=Object(o["createElementVNode"])("label",{for:"origin_price",class:"form-label"},[Object(o["createElementVNode"])("span",{class:"text-danger me-1"},"*"),Object(o["createTextVNode"])("原價")],-1),R={class:"col-6"},q=Object(o["createElementVNode"])("label",{for:"price",class:"form-label"},[Object(o["createElementVNode"])("span",{class:"text-danger me-1"},"*"),Object(o["createTextVNode"])("售價")],-1),G=Object(o["createElementVNode"])("hr",null,null,-1),J={class:"d-flex"},W={class:"form-check me-3"},X=Object(o["createElementVNode"])("label",{class:"form-check-label",for:"is_enabled"},"是否啟用",-1),H={class:"form-check"},K=Object(o["createElementVNode"])("label",{class:"form-check-label",for:"is_recommend"},"店長推薦",-1),Q={class:"tab-pane fade","data-info":"productContent"},Y={class:"row g-3"},Z={class:"col-12"},ee=Object(o["createElementVNode"])("label",{for:"description",class:"form-label"},"商品描述",-1),te={class:"col-12"},ce=Object(o["createElementVNode"])("label",{for:"content",class:"form-label"},"商品成分",-1),oe={class:"col-12"},ne=Object(o["createElementVNode"])("label",{for:"notice",class:"form-label"},"商品過敏源",-1),re={class:"tab-pane fade","data-info":"productImage"},ae={class:"row g-2 justify-content-between mb-4"},le={class:"col-4 image-box d-flex justify-content-center align-items-center"},ie={key:0,class:"material-icons-outlined fs-6 text-gray"},de=["src","alt"],se=Object(o["createElementVNode"])("span",{class:"material-icons-outlined position-absolute top-0 start-100 translate-middle"},"remove_circle_outline",-1),ue=[se],me={class:"col-4 image-box d-flex justify-content-center align-items-center"},pe={key:0,class:"material-icons-outlined fs-6 text-gray"},be=["src","alt"],fe=Object(o["createElementVNode"])("span",{class:"material-icons-outlined position-absolute top-0 start-100 translate-middle"},"remove_circle_outline",-1),ge=[fe],he={class:"col-4 image-box d-flex justify-content-center align-items-center"},je={key:0,class:"material-icons-outlined fs-6 text-gray"},Oe=["src","alt"],ve=Object(o["createElementVNode"])("span",{class:"material-icons-outlined position-absolute top-0 start-100 translate-middle"},"remove_circle_outline",-1),Ee=[ve],Ve={class:"col-4 image-box d-flex justify-content-center align-items-center"},Ne={key:0,class:"material-icons-outlined fs-6 text-gray"},ye=["src","alt"],xe=Object(o["createElementVNode"])("span",{class:"material-icons-outlined position-absolute top-0 start-100 translate-middle"},"remove_circle_outline",-1),Pe=[xe],ke={class:"col-12"},we=Object(o["createElementVNode"])("label",{for:"imageUrl",class:"form-label"},"輸入圖片網址",-1),Ie={class:"input-group mb-3"},Me={type:"text",class:"imageInput form-control bg-white",placeholder:"請輸入圖片連結",ref:"imageUrl"},Ce={class:"col-12"},Ue=Object(o["createElementVNode"])("label",{for:"imageUrl",class:"form-label"},"上傳檔案",-1),_e={class:"input-group"},Se={type:"file",class:"imageInput form-control bg-white",id:"fileInput",ref:"fileInput"},Te={class:"modal-footer"},De=Object(o["createElementVNode"])("button",{type:"button",class:"btn btn-outline-light","data-bs-dismiss":"modal"},"取消",-1);function Be(e,t,c,n,r,a){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",E,[Object(o["createElementVNode"])("div",V,[Object(o["createElementVNode"])("div",N,[Object(o["createElementVNode"])("div",y,[Object(o["createElementVNode"])("h5",x,Object(o["toDisplayString"])(c.is_new?"新增產品":"編輯產品"),1),P]),Object(o["createElementVNode"])("div",k,[Object(o["createElementVNode"])("nav",w,[Object(o["createElementVNode"])("div",I,[Object(o["createElementVNode"])("button",{type:"button",class:"nav-link active","data-info":"productInfo",onClick:t[0]||(t[0]=function(){return a.changeTab&&a.changeTab.apply(a,arguments)})}," 商品資訊 "),Object(o["createElementVNode"])("button",{type:"button",class:"nav-link","data-info":"productContent",onClick:t[1]||(t[1]=function(){return a.changeTab&&a.changeTab.apply(a,arguments)})}," 商品內容 "),Object(o["createElementVNode"])("button",{type:"button",class:"nav-link","data-info":"productImage",onClick:t[2]||(t[2]=function(){return a.changeTab&&a.changeTab.apply(a,arguments)})}," 商品圖片 ")])]),Object(o["createElementVNode"])("div",M,[Object(o["createElementVNode"])("div",C,[Object(o["createElementVNode"])("div",U,[Object(o["createElementVNode"])("div",_,[S,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{id:"title",type:"text",class:"form-control bg-white",placeholder:"請輸入標題","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.tempProduct.title=t}),required:""},null,512),[[o["vModelText"],e.tempProduct.title]])]),Object(o["createElementVNode"])("div",T,[D,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{id:"category",type:"text",class:"form-control bg-white",placeholder:"請輸入分類","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.tempProduct.category=t})},null,512),[[o["vModelText"],e.tempProduct.category]])]),Object(o["createElementVNode"])("div",B,[A,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{id:"grams",type:"text",class:"form-control bg-white",placeholder:"請輸入幾內容量","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.tempProduct.grams=t})},null,512),[[o["vModelText"],e.tempProduct.grams]])]),Object(o["createElementVNode"])("div",$,[L,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{id:"unit",type:"text",class:"form-control bg-white",placeholder:"請輸入單位","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.tempProduct.unit=t})},null,512),[[o["vModelText"],e.tempProduct.unit]])]),Object(o["createElementVNode"])("div",F,[z,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{id:"origin_price",type:"number",min:"0",class:"form-control bg-white",placeholder:"請輸入原價","onUpdate:modelValue":t[7]||(t[7]=function(t){return e.tempProduct.origin_price=t})},null,512),[[o["vModelText"],e.tempProduct.origin_price]])]),Object(o["createElementVNode"])("div",R,[q,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{id:"price",type:"number",min:"0",class:"form-control bg-white",placeholder:"請輸入售價","onUpdate:modelValue":t[8]||(t[8]=function(t){return e.tempProduct.price=t})},null,512),[[o["vModelText"],e.tempProduct.price]])])]),G,Object(o["createElementVNode"])("div",J,[Object(o["createElementVNode"])("div",W,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{id:"is_enabled",class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[9]||(t[9]=function(t){return e.tempProduct.is_enabled=t}),"true-value":1,"false-value":0},null,512),[[o["vModelCheckbox"],e.tempProduct.is_enabled]]),X]),Object(o["createElementVNode"])("div",H,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{id:"is_recommend",class:"form-check-input text-dark",type:"checkbox","onUpdate:modelValue":t[10]||(t[10]=function(t){return e.tempProduct.is_recommend=t}),"true-value":1,"false-value":0},null,512),[[o["vModelCheckbox"],e.tempProduct.is_recommend]]),K])])]),Object(o["createElementVNode"])("div",Q,[Object(o["createElementVNode"])("div",Y,[Object(o["createElementVNode"])("div",Z,[ee,Object(o["withDirectives"])(Object(o["createElementVNode"])("textarea",{id:"description",type:"text",class:"form-control bg-white",placeholder:"請輸入產品描述","onUpdate:modelValue":t[11]||(t[11]=function(t){return e.tempProduct.description=t})},"\r\n                  ",512),[[o["vModelText"],e.tempProduct.description]])]),Object(o["createElementVNode"])("div",te,[ce,Object(o["withDirectives"])(Object(o["createElementVNode"])("textarea",{id:"content",type:"text",class:"form-control bg-white",placeholder:"請輸入商品成分","onUpdate:modelValue":t[12]||(t[12]=function(t){return e.tempProduct.content=t})},"\r\n                  ",512),[[o["vModelText"],e.tempProduct.content]])]),Object(o["createElementVNode"])("div",oe,[ne,Object(o["withDirectives"])(Object(o["createElementVNode"])("textarea",{id:"notice",type:"text",class:"form-control bg-white",placeholder:"請輸入商品過敏源","onUpdate:modelValue":t[13]||(t[13]=function(t){return e.tempProduct.notice=t})},"\r\n                  ",512),[[o["vModelText"],e.tempProduct.notice]])])])]),Object(o["createElementVNode"])("div",re,[Object(o["createElementVNode"])("div",ae,[Object(o["createElementVNode"])("div",le,[0===e.tempProduct.productImage.length?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",ie,"image")):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createElementVNode"])("img",{src:e.tempProduct.productImage[0],alt:e.tempProduct.productImage[0],class:"image-product"},null,8,de),Object(o["createElementVNode"])("a",{href:"#",class:"text-light",onClick:t[14]||(t[14]=Object(o["withModifiers"])((function(e){return a.delImage(0)}),["prevent"]))},ue),Object(o["createElementVNode"])("a",{href:"#",class:Object(o["normalizeClass"])(["image-main text-center p-1",e.tempProduct.imageUrl===e.tempProduct.productImage[0]?"active":""]),onClick:t[15]||(t[15]=Object(o["withModifiers"])((function(e){return a.mainImage(0)}),["prevent"]))}," 設為主圖片 ",2)],64))]),Object(o["createElementVNode"])("div",me,[e.tempProduct.productImage.length<2?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",pe,"image")):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createElementVNode"])("img",{src:e.tempProduct.productImage[1],alt:e.tempProduct.productImage[1],class:"image-product"},null,8,be),Object(o["createElementVNode"])("a",{href:"#",class:"text-light",onClick:t[16]||(t[16]=Object(o["withModifiers"])((function(e){return a.delImage(1)}),["prevent"]))},ge),Object(o["createElementVNode"])("a",{href:"#",class:Object(o["normalizeClass"])(["image-main text-center p-1",e.tempProduct.imageUrl===e.tempProduct.productImage[1]?"active":""]),onClick:t[17]||(t[17]=Object(o["withModifiers"])((function(e){return a.mainImage(1)}),["prevent"]))}," 設為主圖片 ",2)],64))]),Object(o["createElementVNode"])("div",he,[e.tempProduct.productImage.length<3?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",je,"image")):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createElementVNode"])("img",{src:e.tempProduct.productImage[2],alt:e.tempProduct.productImage[2],class:"image-product"},null,8,Oe),Object(o["createElementVNode"])("a",{href:"#",class:"text-light",onClick:t[18]||(t[18]=Object(o["withModifiers"])((function(e){return a.delImage(2)}),["prevent"]))},Ee),Object(o["createElementVNode"])("a",{href:"#",class:Object(o["normalizeClass"])(["image-main text-center p-1",e.tempProduct.imageUrl===e.tempProduct.productImage[2]?"active":""]),onClick:t[19]||(t[19]=Object(o["withModifiers"])((function(e){return a.mainImage(2)}),["prevent"]))}," 設為主圖片 ",2)],64))]),Object(o["createElementVNode"])("div",Ve,[e.tempProduct.productImage.length<4?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",Ne,"image")):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createElementVNode"])("img",{src:e.tempProduct.productImage[3],alt:e.tempProduct.productImage[3],class:"image-product"},null,8,ye),Object(o["createElementVNode"])("a",{href:"#",class:"text-light",onClick:t[20]||(t[20]=Object(o["withModifiers"])((function(e){return a.delImage(3)}),["prevent"]))},Pe),Object(o["createElementVNode"])("a",{href:"#",class:Object(o["normalizeClass"])(["image-main text-center p-1",e.tempProduct.imageUrl===e.tempProduct.productImage[3]?"active":""]),onClick:t[21]||(t[21]=Object(o["withModifiers"])((function(e){return a.mainImage(3)}),["prevent"]))}," 設為主圖片 ",2)],64))]),Object(o["createElementVNode"])("div",ke,[we,Object(o["createElementVNode"])("div",Ie,[Object(o["createElementVNode"])("input",Me,null,512),Object(o["createElementVNode"])("button",{type:"button",class:"btn btn-outline-light",onClick:t[22]||(t[22]=function(e){return a.imageUpload("imageUrl")})}," 上傳圖片 ")])]),Object(o["createElementVNode"])("div",Ce,[Ue,Object(o["createElementVNode"])("div",_e,[Object(o["createElementVNode"])("input",Se,null,512),Object(o["createElementVNode"])("button",{type:"button",class:"btn btn-outline-light",onClick:t[23]||(t[23]=function(e){return a.imageUpload("imageFile")})}," 上傳圖片 ")])])])])])]),Object(o["createElementVNode"])("div",Te,[De,Object(o["createElementVNode"])("button",{type:"button",class:"btn btn-primary",onClick:t[24]||(t[24]=function(t){return a.updateProduct(e.tempProduct.id)})},"確認")])])])],512)}var Ae=c("2909"),$e=(c("a434"),c("d3b7"),c("159b"),c("e0ae")),Le={props:["temp-product","is_new"],data:function(){return{imageInput:"",productImage:[]}},mixins:[$e["a"]],methods:{updateProduct:function(e){var t=this;this.$nextTick((function(){var c="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("gillchin","/admin/product/").concat(e),o="put",n="更新產品";t.is_new&&(c="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("gillchin","/admin/product"),o="post",n="新增產品"),t.$http[o](c,{data:t.tempProduct}).then((function(e){t.$httpMessageState(e,n),t.hideModal(),t.$emit("get-products")})).catch((function(e){t.$httpMessageState(e.response,n)}))}))},imageUpload:function(e){var t=this;if("imageUrl"===e)this.tempProduct.productImage.push(this.imageInput[0].value),this.imageInput[0].value="",this.addImageToTempProduct();else if("imageFile"===e){var c=this.imageInput[1].files[0],o=new FormData;o.append("file-to-upload",c);var n="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("gillchin","/admin/upload");this.$http.post(n,o).then((function(e){t.tempProduct.productImage.push(e.data.imageUrl),t.$httpMessageState(e,"圖片上傳"),t.imageInput[1].value="",t.addImageToTempProduct()})).catch((function(e){t.$httpMessageState(e.response,"圖片上傳")}))}},addImageToTempProduct:function(){this.tempProduct.imageUrl=this.tempProduct.productImage[0];var e=Object(Ae["a"])(this.tempProduct.productImage);e.shift(),this.tempProduct.imagesUrl=e},mainImage:function(e){this.tempProduct.imageUrl=this.tempProduct.productImage[e];var t=Object(Ae["a"])(this.tempProduct.productImage);t.splice(e,1),this.tempProduct.imagesUrl=t},delImage:function(e){this.tempProduct.productImage.splice(e,1),this.addImageToTempProduct()},changeTab:function(e){var t=document.querySelectorAll(".nav-tabs .nav-link"),c=document.querySelectorAll(".tab-content .tab-pane");t.forEach((function(e){return e.classList.remove("active")})),e.target.classList.add("active"),c.forEach((function(t){t.classList.remove("active","show"),t.dataset.info===e.target.dataset.info&&t.classList.add("active","show")}))}},mounted:function(){this.imageInput=Object(Ae["a"])(document.querySelectorAll(".imageInput"))}},Fe=c("6b0d"),ze=c.n(Fe);const Re=ze()(Le,[["render",Be]]);var qe=Re,Ge=c("c00e"),Je={data:function(){return{products:[],pagination:{},tempProduct:{imagesUrl:[],productImage:[]},isNew:!0,delModalStatus:"",isLoading:!1}},components:{Pagination:v["a"],AdminProductModal:qe,AdminDelModal:Ge["a"]},methods:{getProducts:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.isLoading=!0;var c="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("gillchin","/admin/products?page=").concat(t);this.$http.get(c).then((function(t){e.products=t.data.products,e.pagination=t.data.pagination,e.isLoading=!1})).catch((function(t){e.$httpMessageState(t.response,"錯誤訊息")}))},updateProduct:function(e){this.isNew=!1,this.tempProduct=Object(O["a"])({},e),void 0===this.tempProduct.imagesUrl&&(this.tempProduct.imagesUrl=[]),this.$refs.productModal.updateProduct(e.id)},openModal:function(e,t){"new"===e?(this.tempProduct={imagesUrl:[],productImage:[]},this.$refs.productModal.openModal(),this.isNew=!0):"edit"===e?(this.tempProduct=Object(O["a"])({},t),void 0===this.tempProduct.imagesUrl&&(this.tempProduct.imagesUrl=[]),void 0===this.tempProduct.productImage&&(this.tempProduct.productImage=[]),this.$refs.productModal.openModal(),this.isNew=!1):"productDelete"===e&&(this.tempProduct=Object(O["a"])({},t),void 0===this.tempProduct.imagesUrl&&(this.tempProduct.imagesUrl=[]),void 0===this.tempProduct.productImage&&(this.tempProduct.productImage=[]),this.delModalStatus=e,this.$refs.delModal.openModal())}},mounted:function(){this.getProducts()}};const We=ze()(Je,[["render",j]]);t["default"]=We},d9e2:function(e,t,c){var o=c("23e7"),n=c("da84"),r=c("2ba4"),a=c("e5cb"),l="WebAssembly",i=n[l],d=7!==Error("e",{cause:7}).cause,s=function(e,t){var c={};c[e]=a(e,t,d),o({global:!0,forced:d},c)},u=function(e,t){if(i&&i[e]){var c={};c[e]=a(l+"."+e,t,d),o({target:l,stat:!0,forced:d},c)}};s("Error",(function(e){return function(t){return r(e,this,arguments)}})),s("EvalError",(function(e){return function(t){return r(e,this,arguments)}})),s("RangeError",(function(e){return function(t){return r(e,this,arguments)}})),s("ReferenceError",(function(e){return function(t){return r(e,this,arguments)}})),s("SyntaxError",(function(e){return function(t){return r(e,this,arguments)}})),s("TypeError",(function(e){return function(t){return r(e,this,arguments)}})),s("URIError",(function(e){return function(t){return r(e,this,arguments)}})),u("CompileError",(function(e){return function(t){return r(e,this,arguments)}})),u("LinkError",(function(e){return function(t){return r(e,this,arguments)}})),u("RuntimeError",(function(e){return function(t){return r(e,this,arguments)}}))},e01a:function(e,t,c){"use strict";var o=c("23e7"),n=c("83ab"),r=c("da84"),a=c("e330"),l=c("1a2d"),i=c("1626"),d=c("3a9b"),s=c("577e"),u=c("9bf2").f,m=c("e893"),p=r.Symbol,b=p&&p.prototype;if(n&&i(p)&&(!("description"in b)||void 0!==p().description)){var f={},g=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:s(arguments[0]),t=d(b,this)?new p(e):void 0===e?p():p(e);return""===e&&(f[t]=!0),t};m(g,p),g.prototype=b,b.constructor=g;var h="Symbol(test)"==String(p("test")),j=a(b.toString),O=a(b.valueOf),v=/^Symbol\((.*)\)[^)]+$/,E=a("".replace),V=a("".slice);u(b,"description",{configurable:!0,get:function(){var e=O(this),t=j(e);if(l(f,e))return"";var c=h?V(t,7,-1):E(t,v,"$1");return""===c?void 0:c}}),o({global:!0,forced:!0},{Symbol:g})}},e391:function(e,t,c){var o=c("577e");e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:o(e)}},e5cb:function(e,t,c){"use strict";var o=c("d066"),n=c("1a2d"),r=c("9112"),a=c("3a9b"),l=c("d2bb"),i=c("e893"),d=c("7156"),s=c("e391"),u=c("ab36"),m=c("c770"),p=c("b980"),b=c("c430");e.exports=function(e,t,c,f){var g=f?2:1,h=e.split("."),j=h[h.length-1],O=o.apply(null,h);if(O){var v=O.prototype;if(!b&&n(v,"cause")&&delete v.cause,!c)return O;var E=o("Error"),V=t((function(e,t){var c=s(f?t:e,void 0),o=f?new O(e):new O;return void 0!==c&&r(o,"message",c),p&&r(o,"stack",m(o.stack,2)),this&&a(v,this)&&d(o,this,V),arguments.length>g&&u(o,arguments[g]),o}));if(V.prototype=v,"Error"!==j&&(l?l(V,E):i(V,E,{name:!0})),i(V,O),!b)try{v.name!==j&&r(v,"name",j),v.constructor=V}catch(N){}return V}}},fb6a:function(e,t,c){"use strict";var o=c("23e7"),n=c("da84"),r=c("e8b5"),a=c("68ee"),l=c("861d"),i=c("23cb"),d=c("07fa"),s=c("fc6a"),u=c("8418"),m=c("b622"),p=c("1dde"),b=c("f36a"),f=p("slice"),g=m("species"),h=n.Array,j=Math.max;o({target:"Array",proto:!0,forced:!f},{slice:function(e,t){var c,o,n,m=s(this),p=d(m),f=i(e,p),O=i(void 0===t?p:t,p);if(r(m)&&(c=m.constructor,a(c)&&(c===h||r(c.prototype))?c=void 0:l(c)&&(c=c[g],null===c&&(c=void 0)),c===h||void 0===c))return b(m,f,O);for(o=new(void 0===c?h:c)(j(O-f,0)),n=0;f<O;f++,n++)f in m&&u(o,n,m[f]);return o.length=n,o}})}}]);
//# sourceMappingURL=chunk-2fb9937d.5eef93de.js.map